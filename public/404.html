<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>MegaphoneOZ</title>
    <script type="text/javascript">
      // GitHub Pages SPA redirect for user pages (username.github.io)
      // This handles direct access to routes like /article/17
      var redirect = sessionStorage.redirect;
      delete sessionStorage.redirect;
      if (redirect && redirect != location.href) {
        history.replaceState(null, null, redirect);
      }
    </script>
  </head>
  <body>
    <script type="text/javascript">
      // Store the redirect and navigate to homepage
      var path = location.pathname;
      var search = location.search;
      var hash = location.hash;
      
      if (path.startsWith('/megaphoneoz/') && path !== '/megaphoneoz/' && path !== '/megaphoneoz') {
        // Store the full URL for React Router to handle
        sessionStorage.redirect = location.href;
        location.replace('/megaphoneoz/');
      } else if (!path.startsWith('/megaphoneoz/')) {
        // Redirect non-megaphoneoz paths to megaphoneoz
        sessionStorage.redirect = 'https://david6811.github.io/megaphoneoz' + path + search + hash;
        location.replace('/megaphoneoz/');
      }
    </script>
  </body>
</html>